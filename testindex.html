<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<script src="https://cdn.jsdelivr.net/npm/phaser@3.51.0/dist/phaser-arcade-physics.min.js"></script> 

<body>
  <script>var config = {
    type: Phaser.AUTO,
    width: 800,
    height: 600,
    scene: {
        preload: preload,
        create: create,
        update: update
    }
};

var player;
var jumpHeight = 200; // 클릭 시 플레이어가 위로 이동할 높이
var isJumping = false;

var game = new Phaser.Game(config);

function preload() {
    this.load.image('player', '/assets/fox.png');
}

function create() {
    player = this.physics.add.image(100, 300, 'player'); // 플레이어 생성
    player.setVelocityX(150); // 플레이어 초기 좌우 속도 설정

    // 클릭 이벤트 리스너 등록
    this.input.on('pointerdown', function(pointer) {
        if (!isJumping) {
            player.setVelocityY(-jumpHeight); // 플레이어를 위로 이동
            isJumping = true;
        }
    });
}

function update() {
    // 화면을 벗어나면 반대쪽에서 나타나게 함
    if (player.x > config.width) {
        player.x = -player.width;
    }

    // 플레이어가 바닥에 닿으면 점프 상태를 초기화
    if (player.y >= config.height - player.height / 2) {
        player.y = config.height - player.height / 2;
        isJumping = false;
    }
}

  </script>
</body>
</html>